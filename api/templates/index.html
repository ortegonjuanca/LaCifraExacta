<!DOCTYPE html>
<html
    style="
        background-color: aliceblue;
        padding-top: 2rem;
        padding-left: 2rem;
        padding-right: 2rem;
    "
>
    <head>
        <title>La cifra exacta</title>
        <link
            rel="stylesheet"
            href="{{ url_for('static', filename='styles.css') }}"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
        />
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"
        ></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#form").on("submit", function (e) {
                $.ajax({
                    data: {
                        number1: $("#number1").val(),
                        number2: $("#number2").val(),
                        number3: $("#number3").val(),
                        number4: $("#number4").val(),
                        number5: $("#number5").val(),
                        number6: $("#number6").val(),
                        target: $("#target").val(),
                        timeout: $("#timeout").val(),
                    },
                    type: "POST",
                    url: "/",
                }).done(function (data) {
                    $("#executionTime").text(
                        "Tiempo de ejecución: " +
                            data.execution_time.toFixed(2) +
                            " segundos"
                    );
                    let list = document.getElementById("resultList");
                    list.innerHTML = "";
                    for (i = 0; i < data.result.length; ++i) {
                        let li = document.createElement("li");
                        li.innerText = i + 1 + "º) " + data.result[i];
                        list.appendChild(li);
                    }
                });
                e.preventDefault();
            });
        });
    </script>
    <body style="background-color: aliceblue">
        <h2
            class="container text-center alert alert-primary"
            role="alert"
            style="text-align: center; margin-bottom: 2rem"
        >
            La Cifra Exacta
        </h2>
        <div class="container text-center alert alert-success">
            <form id="form">
                <div
                    class="row justify-content-center"
                    style="padding-bottom: 1rem"
                >
                    <div class="col-auto">
                        <label for="number1" class="form-label"
                            >1º Número</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="number1"
                            name="number1"
                            required
                            min="1"
                            maxlength="3"
                            value="1"
                        />
                    </div>
                    <div class="col-auto">
                        <label for="number2" class="form-label"
                            >2º Número</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="number2"
                            name="number2"
                            required
                            min="1"
                            value="2"
                        />
                    </div>
                    <div class="col-auto">
                        <label for="number3" class="form-label"
                            >3º Número</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="number3"
                            name="number3"
                            required
                            min="1"
                            value="3"
                        />
                    </div>
                </div>
                <div
                    class="row justify-content-center"
                    style="padding-bottom: 2rem"
                >
                    <div class="col-auto">
                        <label for="number4" class="form-label"
                            >4º Número</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="number4"
                            name="number4"
                            required
                            min="1"
                            value="4"
                        />
                    </div>
                    <div class="col-auto">
                        <label for="number5" class="form-label"
                            >5º Número</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="number5"
                            name="number5"
                            required
                            min="1"
                            value="5"
                        />
                    </div>
                    <div class="col-auto">
                        <label for="number6" class="form-label"
                            >6º Número</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="number6"
                            name="number6"
                            required
                            min="1"
                            value="6"
                        />
                    </div>
                </div>
                <div
                    class="row justify-content-center"
                    style="padding-bottom: 2rem"
                >
                    <div class="col-auto">
                        <label for="target" class="form-label">Cifra</label>
                        <input
                            type="number"
                            class="form-control text-center"
                            id="target"
                            name="target"
                            required
                            min="1"
                            value="100"
                        />
                    </div>
                    <div class="col-auto">
                        <label for="target" class="form-label"
                            >Tiempo máximo de ejecución</label
                        >
                        <input
                            type="number"
                            class="form-control text-center"
                            id="timeout"
                            name="timeout"
                            required
                            min="1"
                            value="30"
                        />
                    </div>
                </div>
                <div class="d-grid col-6 mx-auto">
                    <button type="submit" class="btn btn-success">
                        Calcular
                    </button>
                </div>
            </form>
        </div>

        <div class="container text-center alert alert-warning">
            <p id="executionTime"></p>
            <ul id="resultList" style="list-style-type: none"></ul>
        </div>
    </body>
</html>
